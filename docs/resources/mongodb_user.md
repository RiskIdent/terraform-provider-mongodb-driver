---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "mongodb_user Resource - terraform-provider-mongodb-driver"
subcategory: ""
description: |-
  User resource
---

# mongodb_user (Resource)

User resource

## Example Usage

```terraform
resource "mongodb_user" "example" {
  user = "my-user"
  db   = "my-db"
  pwd  = "super-secret-password"
}

// With role
resource "mongodb_user" "example" {
  user = "my-user"
  db   = "my-db"
  pwd  = "super-secret-password"

  roles = [
    // Only specifying "role" will use the same database as the user
    {
      role = "readWrite"
    },
    // Reference role in other database
    {
      role = "readWrite"
      db   = "admin"
    },
  ]
}

// With customData
resource "mongodb_user" "example" {
  user = "my-user"
  db   = "my-db"
  pwd  = "super-secret-password"

  customData = {
    "my-custom-field" = "my-custom-value"
  }
}

// With explicit mechanisms
resource "mongodb_user" "example" {
  user = "my-user"
  db   = "my-db"
  pwd  = "super-secret-password"

  mechanisms = [
    "SCRAM-SHA-1",
    "SCRAM-SHA-256",
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `db` (String) Database this MongoDB user belongs to.

  MongoDB has some restrictions on database names. Such as:

  - Cannot contain any of the following characters (we're following Windows limits): `/\. "$*<>:|?`
  - Cannot create users in the `local` database.
  - Cannot be empty.
  - Cannot be longer than 64 characters.

  See documentation:

  - <https://www.mongodb.com/docs/manual/reference/command/createUser/#local-database>
  - <https://www.mongodb.com/docs/v6.0/reference/limits/#naming-restrictions>
- `pwd` (String, Sensitive) Password of this user.
- `user` (String) Username for this MongoDB user.

### Optional

- `custom_data` (Map of String) Any custom data for this user. Map of string key and values of arbitrary values.
- `mechanisms` (List of String) Authentication mechanisms this user can use.

  - The default for featureCompatibilityVersion `4.0` is both `SCRAM-SHA-1` and `SCRAM-SHA-256`.
  - The default for featureCompatibilityVersion `3.6` is `SCRAM-SHA-1`.
- `roles` (Attributes List) Roles this user belongs to. (see [below for nested schema](#nestedatt--roles))

### Read-Only

- `id` (String) User unique ID in MongoDB. Is composed from the `db` and `user` fields.

<a id="nestedatt--roles"></a>
### Nested Schema for `roles`

Required:

- `role` (String) Role name

Optional:

- `db` (String) Database this role belongs to. Leave unset to target same database as user.
